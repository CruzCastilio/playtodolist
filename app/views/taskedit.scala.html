@(params: Option[(Long, java.util.Date)] = None, taskForm: Form[TaskForm])(implicit messages: Messages)

@main("ToDo task list") {

  @params match {
    case Some((id, date)) => {
      <script>
              $(function () {
                $("#taskHeader").text("TASK DETAILS");
                $("#edit").show();
                $("#deleteButton").show();
                $("#deleteForm").prop("action", "@routes.HomeController.taskDelete(id)");
                $("#newtask").prop("action", "@routes.HomeController.taskEdit(id)");
              })
      </script>
    }
    case None => {
      <script>
              $(function () {
                $("#taskHeader").text("NEW TASK");
                $(".field").prop("readonly", false);
                $("#reset, #confirm").show();
                $("#newtask").prop("action", "@routes.HomeController.taskPost");
                $("#creationDateBlock").hide();
              });
      </script>
    }
  }

  <div class="well well-sm">
    <h2 id="taskHeader" style="text-align: center">TASK LIST</h2>
  </div>
  <form role="form" id="newtask" method="post">
    <div class="form-group row">
      <div class="form-group col-xs-4">
        <label for="label" class="control-label"><span class="glyphicon glyphicon-modal-window"></span> Label:</label>
        <input name="label" type="text" class="form-control field" value="@taskForm("label").value"
        id="inputLabel" placeholder="Label" readonly>
      </div>
      <div class="form-group col-xs-2">
        <div id="creationDateBlock">
          <label for="creationDate" class="control-label"><span class="glyphicon glyphicon-calendar">
          </span> Creation Date:</label>
          <input name="creationDate" type="date" class="form-control field" id="inputExpirationDate"
          value="@if(params.isDefined)(params.get._2)" readonly>
        </div>
      </div>
      <div class="form-group col-xs-2">
        <label for="expirationDate" class="control-label"><span class="glyphicon glyphicon-calendar">
        </span> Expiration Date:</label>
        <input name="expirationDate" type="date" class="form-control field" id="inputExpirationDate"
        placeholder="Expiration Date" value="@taskForm("expirationDate").value" readonly>
      </div>
      <div class="form-group col-xs-2">
        <label for="assigner" class="control-label"><span class="glyphicon glyphicon-user"></span> Assigner:</label>
        <input name="assigner" type="text" class="form-control field" value="@taskForm("assigner").value"
        id="inputAssigner" placeholder="Assigner" readonly>
      </div>
      <div class="form-group col-xs-2">
        <label for="executor" class="control-label"><span class="glyphicon glyphicon-user"></span> Executor:</label>
        <input name="executor" type="text" class="form-control field" value="@taskForm("executor").value"
        id="inputExecutor" placeholder="Executor" readonly>
      </div>
    </div>
    <div class="form-group">
      <label for="task" class="control-label"><span class="glyphicon glyphicon-align-justify  "></span> Task:</label>
      <textarea name="task" class="form-control field" rows="5" id="inputTask" placeholder="Task" readonly>@taskForm(
      "task").value</textarea>
    </div>
    <button id="edit" class="btn btn-info" type="button" role="button" style="position: relative; outline: none;
    width: 10%; display: none"><span class="btn-label" style="position: absolute; top: 20%; left: 5%">
      <i class="glyphicon glyphicon-pencil"></i></span> Edit</button>
    <button id="confirm" class="btn btn-success" type="submit" role="button" style="position: relative; outline: none;
    width: 10%; display: none"><span class="btn-label" style="position: absolute; top: 20%; left: 5%">
      <i class="glyphicon glyphicon-ok"></i></span> Confirm</button>
    <button id="reset" class="btn btn-danger" type="reset" role="button" style="position: relative; outline: none;
    width: 10%; display: none"><span class="btn-label" style="position: absolute; top: 20%; left: 5%">
      <i class="glyphicon glyphicon-remove"></i></span> Reset</button>
    <button id="cancel" class="btn btn-danger" type="reset" role="button" style="position: relative;outline: none;
    width: 10%; display: none"><span class="btn-label" style="position: absolute; top: 20%; left: 5%">
      <i class="glyphicon glyphicon-remove"></i></span> Cancel</button>
    <script>
            $("#edit").click(function () {
              $(".field").prop("readonly", false);
              $("#edit").hide();
              $("#confirm").show();
              $("#cancel").show();
              $("#creationDateBlock, #deleteButton").hide();
              $("#taskHeader").text("TASK EDIT");
            });
            $("#cancel").click(function () {
              $(".field").prop("readonly", true);
              $("#cancel, #confirm").hide();
              $("#edit, #creationDateBlock, #deleteButton").show();
              $("#taskHeader").text("TASK DETAILS");
            });
    </script>
  </form>
  <br>
  <div id="myModal" class="modal fade" tabindex="-1" role="dialog" style="position: absolute; top: 30%">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
          aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" style="text-align: center"><b>TASK DELETING</b></h4>
        </div>
        <div class="modal-body">
          <h4 style="text-align: center">Do you want to delete the task?</h4>
        </div>
        <div class="modal-footer">

          <form id="deleteForm" method="post">
            <button class="btn btn-success col-md-1" type="submit" role="button" style="position: relative;
            outline: none; width: 40%"><span class="btn-label" style="position: absolute; top: 20%; left: 5%"><i
            class="glyphicon glyphicon-trash"></i></span> Delete</button>
          </form>
          <button class="btn btn-danger" data-dismiss="modal" role="button" style="position: relative; outline: none;
          width: 40%"><span class="btn-label" style="position: absolute; top: 20%; left: 5%">
          <i class="glyphicon glyphicon-remove"></i></span> Cancel</button>

        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  <button id="deleteButton" class="btn btn-danger" type="button" role="button" data-toggle="modal"
  data-target="#myModal" style="position: relative; outline: none; width: 10%; display: none"><span class="btn-label"
  style="position: absolute; top: 20%; left: 5%"><i class="glyphicon glyphicon-trash" st></i></span> Delete</button>




  @*      <!-- helper style -->

  @form(routes.HomeController.taskPost) {
  @inputText(taskForm("id"), '_label -> "Id", 'class -> "form-control", 'disabled -> true)
  @inputText(taskForm("label"), '_label -> "Label", 'class -> "form-control field", 'disabled -> true)
  @inputDate(taskForm("creationDate"), '_label -> "Creation Date", 'class -> "form-control field", 'disabled -> true)
  @inputDate(taskForm("expirationDate"), '_label -> "Expiration Date", 'class -> "form-control field", 'disabled -> true)
  @inputText(taskForm("assigner"), '_label -> "Assigner", 'class -> "form-control field", 'disabled -> true)
  @inputText(taskForm("executor"),  '_label -> "Executor",'class -> "form-control field", 'disabled -> true)
  @inputText(taskForm("task"), '_label -> "Task", 'class -> "form-control field", 'disabled -> true)
  <button class="btn btn-default" type="submit">Save &raquo;</button>
  }
  *@

}
