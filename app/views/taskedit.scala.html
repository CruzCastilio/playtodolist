@(task: Option[Task] = None, taskForm: Form[TaskForm])(implicit messages: Messages)

@import java.util.Date

@main("ToDo task list") {

  <form action=@routes.HomeController.taskPost()>
    <div class="form-group">
      <label for="id">Id:</label>
      <div class="input">
        <input type="text" class="form-control" value="@task.map(_.id).getOrElse("")" disabled>
      </div>
      <label for="creationDate">Creation Date:</label>
      <div class="input">
        <input type="text" class="form-control"
        value="@task.map(_.creationDate.format("dd/MM/yyyy")).getOrElse(new Date().format("dd/MM/yyyy"))" disabled>
      </div>
      <label for="expirtationDate">Expiration Date:</label>
      <div class="input">
        <input type="text" class="form-control field"
        value="@task.map(_.expirationDate.format("dd/MM/yyyy")).getOrElse("")" disabled>
      </div>
      <label for="assigner">Assigner:</label>
      <div class="input">
        <input type="text" class="form-control field" value="@task.map(_.assigner).getOrElse("")" disabled>
      </div>
      <label for="executor">Executor:</label>
      <div class="input">
        <input type="text" class="form-control field" value="@task.map(_.executor).getOrElse("")" disabled>
      </div>
      <label for="task">Task:</label>
      <div class="input">
        <input class="form-control field" rows="5" disabled value="@task.map(_.task).getOrElse("")">
      </div>
    </div>
    <p><input type="submit"></p>
  </form>

  @if(task.isEmpty) {
    <script>
            $(function () {
              $(".field").prop("disabled", false);
            });
    </script>
  }

  <button id="enabler" class="btn btn-info" role="button" style="outline: none;
    width: 10%">Edit</button>
  <button id="cancel" class="btn btn-danger" role="button" style="outline: none;
    width: 10%;
    display: none">
    Cancel
  </button>
  <script>
          $("#enabler").click(function () {
            $(".field").prop("disabled", false);
            $("#enabler").removeClass("btn-info").addClass("btn-success").text("Confirm");
            $("#cancel").show();
          });
          $("#cancel").click(function () {
            $(".field").prop("disabled", true);
            $("#enabler").removeClass("btn-success").addClass("btn-info").text("Edit");
            $("#cancel").hide();
          });
  </script>
}
